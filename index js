export default {
  async fetch(req) {
    const url = new URL(req.url)
    const target = url.searchParams.get("target")
    if (!target) return new Response("Target URL required", { status: 400 })
    const res = await fetch(target, { headers: { "User-Agent": "radio-proxy/1.0" } })
    return new Response(res.body, { headers: { "Access-Control-Allow-Origin": "*" } })
  }
}
